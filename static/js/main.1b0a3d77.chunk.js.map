{"version":3,"sources":["Artist.js","assets/search.png","Search.js","Info.js","App.js","reportWebVitals.js","index.js"],"names":["Artist","artist","tracks","notFound","updateAudio","setAudioUrl","length","src","alt","x","images","name","followers","total","toString","replace","undefined","url","className","map","track","id","album","preview_url","onClick","onEnded","style","marginTop","marginBottom","API_ADDRESS","Search","setArtist","setTracks","getArtistName","setNotFound","useState","searching","setSearching","search","actualQuery","document","querySelector","value","trim","console","log","fetch","then","response","json","artists","queryArtist","items","catch","error","alert","message","Form","inline","Control","placeholder","maxLength","onKeyDown","e","key","preventDefault","keyDown","Button","variant","disabled","Info","props","show","setShow","Modal","onHide","size","centered","Body","App","audioUrl","song","setSong","paused","setPaused","volume","setVolume","previewUrl","audio","getElementById","play","pause","newAudio","currentTime","Container","Row","Col","xs","span","offset","onChange","vol","updateVolume","target","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1b0a3d77.chunk.js","sourcesContent":["import React from \"react\";\r\nimport search from \"./assets/search.png\";\r\n\r\nfunction Artist({artist, tracks, notFound, updateAudio, setAudioUrl}) {\r\n    if(artist === null || tracks.length === 0)\r\n    {\r\n        return (\r\n            <div>\r\n            <img src={search} alt=\"search-icon\"/>\r\n            <p>\r\n            {\r\n                notFound ? \"No results found.\" : \"Artist data and top tracks will appear here.\"\r\n            }\r\n            </p>\r\n            </div>\r\n        );\r\n    }\r\n    //destructure the artist object\r\n    const {images, name, followers} = artist;\r\n    return (\r\n        <div>\r\n            <h3>{name}</h3>\r\n            <p>{format(followers.total)} followers</p>\r\n            {\r\n                //check if images[0] isn't undefined before accessing it\r\n                images[0] !== undefined ? (\r\n                    <img src={images[0].url} className=\"profile\" alt=\"\"/>\r\n                ) : (\r\n                    <p>This artist doesn't have a profile picture.</p>\r\n                )\r\n            }\r\n            <h4>Top Tracks</h4>\r\n            <div>\r\n            {\r\n                //map each track to a div containing the image\r\n                tracks.map(track => {\r\n                    const {id, name, album, preview_url} = track;\r\n                    return (\r\n                        <div key={id} onClick={() => updateAudio(preview_url, name)} className=\"track\">\r\n                            <img src={album.images[0].url} className=\"trackImage\" alt=\"\"/>\r\n                            <audio id={preview_url} onEnded={() => setAudioUrl(\"\")}src={preview_url}/>\r\n                            <p style={{marginTop: 0, marginBottom: 10}}>{name}</p>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction format(x)\r\n{\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n\r\nexport default Artist;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABcwAAAXMBxHQifQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATJSURBVHic5ZtLiB1FFIa/0zNx40Y0kMkojKBoxJ0TUWMMVyFPITFxkMigCxfG90LRuBBERHyALsS3GwVFBDEmYUCNCRJBow6RgEpUoqiTx8TgRI2ayWTmuOi+2Klb9051V7/uvT/Uout2nfrP36fO7Xq0qCpZQkQWACuBc4H5sdIHTAMHjfIDMKKqv2ZKxJWvrwAiEgBXAGuickFKU7uBzcBmVd3jRSoJVDVVAXqBDcAYoBmXb4B1abkl8iOF4wLcAHyfg+Nm2QXU8hQg0RAQkUHgZWCwVVABo8B24BfgQKz0AP1RORsYAFYAF8/S9QfABlX92ZmsKxI8+ZuAf7E/qZPACOGQ6E8RVecB9wKfNLGvwG/kEA0u5HqAZ1oQewdYkBkhWATsbNLXFHBPYQIAZwAfNSGzA7g0r7EJrAL2NOn7NaA3VwEIs/w2S+fTwMa8HDc4zAFeaiLCi3kL8Lyl06PAqiKcN7jcBpyw8Lk7FwGAOyyd/QRcWLTzMU5LogdgJt9lmQoA1KJkYz75i8pyPsZtWeR0nNsEcH4mAkQZ/1uLysvLdj7G8U5LdG7NSoBbLcbvKttpiwjPWXhe7SUAcDrh7CxudHvZzjYR4DTgR4PrbqLJXVoBHjYMzgCXlO1sCxHWW6Lg5lQCRIr+YRh7o2wnZxFAgC8MznvTCrDSMDQJDJTtpIMINUsUJPq3CgixllOxTfOYeWUMVf0Y2GdUm760RBCt6Kw26t/14FU0TK7XJWlcX86aF6ubBrZ4kioSpgALReQc18YBcJVRt1NVj3jTKg6fEy621CHAYtfGAWCqNZoBqcKgYTY0Ofe7tg8Il6biOORLqgQcMK7nuza0CXDQm07x2G9ce0VAOwrgFQFzjbrfvekUDzNpn+XaMLA0PtObTvEwH+KEa8OAxvHjHD4VgjnmnRN5pwiQ+p/MJkCfN53i4RUBY0bdQm86BUJEhEbOzhO5gHA7Ko4lImImlSrjMk6NACXcl3RCAHwGjMfqemicHVYZ64zrL1X1sGvjQFVnaJz9mUarDJPrSJLG9QWRTUb9UhEZSE2pIIhIjXBnOY5EAnTamuDXJFwZjhvshFXhtYntxAy2+77AaCpbhuF23hlakYUA7bo3+GFqe5YOarTX7vB+YF5mAkQdtcv5gClgsZfdFh22wwmR+7xtt+i06meEpoDB3ASICFT1lFi9TPhycCFSpXOCtnIUuDw3AWLEyj4pegQYBt6z/PYnsCiNAHmfFR4jXJ05RPiW2cP/3w70EZ4VXs7sZ4U3Aber6riIzAHeAq437jlGmKDN9Y3WSPG0ijwtvg+40cKhF3jbcv8xEp4n9hmreX4vsAsYIlyvaJWb3rS0/Ru4JncBYkQC4ErgKeA7D6f3Er57OL/YRH2/brH1D7A08xzgglm+GVLgcFTGCfPCp8AOVTVXp137C4BXgVuMn44TTo/fb2nANwKqUAjz0is0RsJx4Npch0BVSiTCCxYRJoHVHS9ATIhnLSKcoMlqUemEcxLhaYsIU8BQVwgQifBkExHWd4UAkQiPWUQ4CQx3hQCRCI9YRJgmOlec+XtAFSEiDwGPGtUzwFBXCAAgIg8CjxvVXwW2mzsRqvoEcL9RPdk1EVCHiAwDG4G/gAf+A/vLQQ45/dhRAAAAAElFTkSuQmCC\"","import React, {useState} from \"react\";\r\nimport {Form, Button} from \"react-bootstrap\";\r\n\r\nconst API_ADDRESS = \"https://spotify-api-wrapper.appspot.com/\";\r\n\r\n//parent functions can be called in the child\r\nfunction Search({setArtist, setTracks, updateAudio, getArtistName, setNotFound}) {\r\n    const [searching, setSearching] = useState(false);\r\n\r\n    function keyDown(e) {\r\n        if(e.key === \"Enter\")\r\n        {\r\n            e.preventDefault();\r\n            search();\r\n        }\r\n    }\r\n\r\n    function search() {\r\n        let actualQuery = document.querySelector(\"input\").value.replace(/[^\\w\\s-.~]/g, \"\").trim();\r\n        console.log(\"Query:\", actualQuery);\r\n        if (!actualQuery) return;\r\n\r\n        setSearching(true);\r\n        //fetch is asynchronous (code after fetch happens immediately)\r\n        fetch(`${API_ADDRESS}/artist/${actualQuery}`)\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                if (json.artists.total > 0) {\r\n                    //get the top artist from the artists object returned from the fetch\r\n                    //artist is an object with many properties\r\n                    const queryArtist = json.artists.items[0];\r\n\r\n                    //only fetch and stop sounds again if the artist is different\r\n                    if(queryArtist.name !== getArtistName()) {\r\n                        //get their top tracks (it wasn't in the artist object already)\r\n                        fetch(`${API_ADDRESS}/artist/${queryArtist.id}/top-tracks`)\r\n                            .then(response => response.json())\r\n                            .then(json => {\r\n                                setSearching(false);\r\n                                updateAudio(\"\", \"\");\r\n                                const tracks = json.tracks;\r\n                                setArtist(queryArtist); setTracks(tracks);\r\n                                console.log(queryArtist); console.log(tracks);\r\n                            })\r\n                            .catch(error => alert(error.message));\r\n                    }\r\n                    else setSearching(false);\r\n                }\r\n                else\r\n                {\r\n                    updateAudio(\"\", \"\");\r\n                    setSearching(false);\r\n                    setNotFound(true);\r\n                    setArtist(null);\r\n                    setTracks([]);\r\n                }\r\n            }).catch(error => alert(error.message));\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Form inline>\r\n                <Form.Control id=\"search-bar\"\r\n                    placeholder=\"Search for an artist...\"\r\n                    maxLength={32}\r\n                    onKeyDown={e => keyDown(e)} />\r\n                <Button\r\n                    variant=\"success\"\r\n                    onClick={search}\r\n                    disabled={searching}>\r\n                    {searching ? \"Searching...\" : \"Search\"} </Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","import React, {useState} from \"react\";\r\nimport {Modal, Button} from \"react-bootstrap\";\r\n\r\nfunction Info(props) {\r\n    const [show, setShow] = useState(true);\r\n    return (\r\n        <div>\r\n        <Modal show={show} onHide={() => setShow(false)}\r\n            size=\"lg\"\r\n            centered\r\n        >\r\n            <Modal.Body>\r\n                <h4>Song Tracker</h4>\r\n                <hr/>\r\n                <p>This app uses Spotify's web API to get the top tracks of artists.</p>\r\n                <p>After searching for an artist, click on the track to listen to a 30-second preview.</p>\r\n            </Modal.Body>\r\n            <Button onClick={() => setShow(false)}>Close</Button>\r\n        </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Info;","import React, {useState} from \"react\";\nimport Artist from \"./Artist\";\nimport Search from \"./Search\";\nimport Info from \"./Info\";\nimport {Container, Row, Col} from \"react-bootstrap\";\nimport RangeSlider from \"react-bootstrap-range-slider\";\n\nfunction App() {\n    //put all global variables here since parent <-> child is possible\n    //but child <-> child isn't (directly) possible\n    const [artist, setArtist] = useState(null);\n    const [tracks, setTracks] = useState([]);\n    const [audioUrl, setAudioUrl] = useState(\"\");\n    const [song, setSong] = useState(\"\");\n    const [paused, setPaused] = useState(true);\n    const [volume, setVolume] = useState(50);\n    const [notFound, setNotFound] = useState(false);\n\n    function getArtistName() {\n        return artist === null ? \"\" : artist.name;\n    }\n\n    function updateVolume(vol) {\n        setVolume(vol);\n        let audio = document.getElementById(audioUrl);\n        if(audio !== null) audio.volume = vol/100;\n    }\n\n    function updateAudio(previewUrl, song) {\n        let audio = document.getElementById(audioUrl);\n        if (audioUrl === previewUrl) {\n            if (audio !== null) {\n                if (audio.paused) audio.play(); else audio.pause();\n                setPaused(audio.paused);\n                console.log(audio.volume);\n            }\n        } else {\n            if (audio !== null && !audio.paused) {\n                audio.pause();\n                setPaused(true);\n            }\n            let newAudio = document.getElementById(previewUrl);\n            if (newAudio !== null) {\n                newAudio.currentTime = 0; newAudio.volume = volume/100;\n                newAudio.play();\n                setPaused(false);\n            }\n        }\n        setAudioUrl(previewUrl);\n        setSong(song);\n    }\n\n    return (\n        <div>\n            <Info/>\n            <h1>Song Tracker</h1>\n            <Search setArtist={setArtist} setTracks={setTracks}\n                    updateAudio={updateAudio} getArtistName={getArtistName} setNotFound={setNotFound}/>\n            <p>Volume</p>\n            <Container>\n                <Row>\n                    <Col xs={{span: 4, offset: 4}}>\n                        <RangeSlider value={volume} onChange={e => updateVolume(e.target.value)}/>\n                    </Col>\n                </Row>\n            </Container>\n            <hr/>\n            <Artist artist={artist} tracks={tracks} notFound={notFound}\n                    updateAudio={updateAudio} setAudioUrl={setAudioUrl}/>\n            <div className={(audioUrl !== \"\") ? \"footer-active\" : \"footer\"}>\n                <p>{audioUrl !== \"\" ? (paused ? getArtistName() + \" - \" + song + \" (Paused)\" :\n                    getArtistName() + \" - \" + song + \" (Playing)\") : \"Not playing\"}</p>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-bootstrap-range-slider/dist/react-bootstrap-range-slider.css';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}