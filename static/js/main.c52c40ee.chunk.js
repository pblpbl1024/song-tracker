(this["webpackJsonpsong-tracker"]=this["webpackJsonpsong-tracker"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n(0),a=n.n(r),s=n(9),i=n.n(s),o=n(7);var l=function(e){var t=e.artist,n=e.tracks,r=e.updateAudio,a=e.setAudioUrl;if(null===t||0===n.length)return null;var s,i=t.images,o=t.name,l=t.followers;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:o}),Object(c.jsxs)("p",{children:[(s=l.total,s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," followers"]}),void 0!==i[0]?Object(c.jsx)("img",{src:i[0].url,className:"profile",alt:""}):Object(c.jsx)("p",{children:"This artist doesn't have a profile picture."}),Object(c.jsx)("h4",{children:"Top Tracks"}),Object(c.jsx)("div",{children:n.map((function(e){var t=e.id,n=e.name,s=e.album,i=e.preview_url;return Object(c.jsxs)("div",{onClick:function(){return r(i,n)},className:"track",children:[Object(c.jsx)("img",{src:s.images[0].url,className:"trackImage",alt:""}),Object(c.jsx)("audio",{id:i,onEnded:function(){return a("")},src:i}),Object(c.jsx)("p",{style:{marginTop:0,marginBottom:10},children:n})]},t)}))})]})},u=n(31),j=n(32),d="https://spotify-api-wrapper.appspot.com/";var h=function(e){e.artist;var t=e.setArtist,n=e.setTracks,a=e.updateAudio,s=e.getArtistName,i=Object(r.useState)(!1),l=Object(o.a)(i,2),h=l[0],b=l[1];function p(){var e=document.querySelector("input").value.replace(/[^\w\s-.~]/g,"").trim();console.log("Query:",e),e&&(b(!0),fetch("".concat(d,"/artist/").concat(e)).then((function(e){return e.json()})).then((function(e){if(e.artists.total>0){var c=e.artists.items[0];console.log(c),c.name!==s()?(t(c),fetch("".concat(d,"/artist/").concat(c.id,"/top-tracks")).then((function(e){return e.json()})).then((function(e){b(!1),a("","");var t=e.tracks;console.log(t),n(t)})).catch((function(e){return alert(e.message)}))):b(!1)}else a("",""),b(!1),t(null),n([])})).catch((function(e){return alert(e.message)})))}return Object(c.jsx)("div",{children:Object(c.jsxs)(u.a,{inline:!0,children:[Object(c.jsx)(u.a.Control,{id:"search-bar",placeholder:"Search for an artist...",onKeyDown:function(e){return function(e){"Enter"===e.key&&(e.preventDefault(),p())}(e)}}),Object(c.jsxs)(j.a,{variant:"success",onClick:p,disabled:h,children:[h?"Searching...":"Search"," "]})]})})},b=n(30);var p=function(e){var t=Object(r.useState)(!0),n=Object(o.a)(t,2),a=n[0],s=n[1];return Object(c.jsxs)(b.a,{show:a,onHide:function(){return s(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h4",{children:"Song Tracker"}),Object(c.jsx)("hr",{}),Object(c.jsx)("p",{children:"This app uses Spotify's web API to get the top tracks of artists by searching for them."}),Object(c.jsx)("p",{children:"After searching for an artist, click on the track to the listen to a 30-second preview."})]}),Object(c.jsx)(j.a,{onClick:function(){return s(!1)},children:"Close"})]})};var O=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),i=Object(o.a)(s,2),u=i[0],j=i[1],d=Object(r.useState)(""),b=Object(o.a)(d,2),O=b[0],f=b[1],g=Object(r.useState)(""),m=Object(o.a)(g,2),v=m[0],x=m[1],k=Object(r.useState)(!0),y=Object(o.a)(k,2),S=y[0],A=y[1];function T(){return null===n?"":n.name}function w(e,t){var n=document.getElementById(O);if(O===e)null!==n&&(n.paused?n.play():n.pause(),A(n.paused));else{null===n||n.paused||(n.pause(),A(!0));var c=document.getElementById(e);null!==c&&(c.currentTime=0,c.play(),A(!1))}f(e),x(t)}return Object(c.jsxs)("div",{children:[Object(c.jsx)(p,{}),Object(c.jsx)("h1",{children:"Song Tracker"}),Object(c.jsx)(h,{artist:n,setArtist:a,setTracks:j,updateAudio:w,getArtistName:T}),Object(c.jsx)("hr",{}),Object(c.jsx)(l,{artist:n,tracks:u,updateAudio:w,setAudioUrl:f}),Object(c.jsx)("div",{className:""!==O?"footer-active":"footer",children:Object(c.jsx)("p",{children:""!==O?S?T()+" - "+v+" (Paused)":T()+" - "+v+" (Playing)":"Not playing"})})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};n(25),n(26),n(27);i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),f()}},[[28,1,2]]]);
//# sourceMappingURL=main.c52c40ee.chunk.js.map